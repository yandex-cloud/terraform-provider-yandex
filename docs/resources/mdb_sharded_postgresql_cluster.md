---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "yandex_mdb_sharded_postgresql_cluster Resource - yandex"
subcategory: ""
description: |-
  Manages a ShardedPostgresql cluster within the Yandex Cloud.
---

# yandex_mdb_sharded_postgresql_cluster (Resource)

Manages a ShardedPostgresql cluster within the Yandex Cloud.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `config` (Attributes) Configuration of the Sharded PostgreSQL cluster. (see [below for nested schema](#nestedatt--config))
- `environment` (String) Deployment environment of the PostgreSQL cluster.
- `hosts` (Attributes Map) A host configuration of the PostgreSQL cluster. (see [below for nested schema](#nestedatt--hosts))
- `name` (String) Name of the Sharded PostgreSQL cluster. Provided by the client when the cluster is created.
- `network_id` (String) ID of the network that the cluster belongs to.

### Optional

- `deletion_protection` (Boolean) Inhibits deletion of the cluster. Can be either true or false.
- `description` (String) Description of the Sharded PostgreSQL cluster.
- `folder_id` (String) The folder identifier that resource belongs to. If it is not provided, the default provider `folder-id` is used.
- `labels` (Map of String) A set of key/value label pairs which assigned to resource.
- `maintenance_window` (Attributes) Maintenance policy of the PostgreSQL cluster. (see [below for nested schema](#nestedatt--maintenance_window))
- `security_group_ids` (Set of String) A set of ids of security groups assigned to hosts of the cluster.

### Read-Only

- `id` (String) The resource identifier.

<a id="nestedatt--config"></a>
### Nested Schema for `config`

Required:

- `sharded_postgresql_config` (Attributes) Sharded PostgreSQL cluster configuration. (see [below for nested schema](#nestedatt--config--sharded_postgresql_config))

Optional:

- `access` (Attributes) Access policy to the Sharded PostgreSQL cluster. (see [below for nested schema](#nestedatt--config--access))
- `backup_retain_period_days` (Number) The period in days during which backups are stored.
- `backup_window_start` (Attributes) Time to start the daily backup, in the UTC timezone. (see [below for nested schema](#nestedatt--config--backup_window_start))

<a id="nestedatt--config--sharded_postgresql_config"></a>
### Nested Schema for `config.sharded_postgresql_config`

Optional:

- `balancer` (Map of String) Balancer specific configuration.
- `common` (Map of String) General settings for all types of hosts.
- `coordinator` (Attributes) Coordinator specific configuration. (see [below for nested schema](#nestedatt--config--sharded_postgresql_config--coordinator))
- `infra` (Attributes) (see [below for nested schema](#nestedatt--config--sharded_postgresql_config--infra))
- `router` (Attributes) Router specific configuration. (see [below for nested schema](#nestedatt--config--sharded_postgresql_config--router))

<a id="nestedatt--config--sharded_postgresql_config--coordinator"></a>
### Nested Schema for `config.sharded_postgresql_config.coordinator`

Required:

- `resources` (Attributes) Resources allocated to routers of the Sharded PostgreSQL cluster. (see [below for nested schema](#nestedatt--config--sharded_postgresql_config--coordinator--resources))

Optional:

- `config` (Map of String) Coordinator settings.

<a id="nestedatt--config--sharded_postgresql_config--coordinator--resources"></a>
### Nested Schema for `config.sharded_postgresql_config.coordinator.resources`

Required:

- `disk_size` (Number) Size of the disk in bytes.
- `disk_type_id` (String) ID of the disk type that determines the disk performance characteristics.
- `resource_preset_id` (String) ID of the resource preset that determines the number of CPU cores and memory size for the host.



<a id="nestedatt--config--sharded_postgresql_config--infra"></a>
### Nested Schema for `config.sharded_postgresql_config.infra`

Required:

- `resources` (Attributes) Resources allocated to routers of the Sharded PostgreSQL cluster. (see [below for nested schema](#nestedatt--config--sharded_postgresql_config--infra--resources))

Optional:

- `coordinator` (Map of String) Coordinator settings.
- `router` (Map of String) Router settings.

<a id="nestedatt--config--sharded_postgresql_config--infra--resources"></a>
### Nested Schema for `config.sharded_postgresql_config.infra.resources`

Required:

- `disk_size` (Number) Size of the disk in bytes.
- `disk_type_id` (String) ID of the disk type that determines the disk performance characteristics.
- `resource_preset_id` (String) ID of the resource preset that determines the number of CPU cores and memory size for the host.



<a id="nestedatt--config--sharded_postgresql_config--router"></a>
### Nested Schema for `config.sharded_postgresql_config.router`

Required:

- `resources` (Attributes) Resources allocated to routers of the Sharded PostgreSQL cluster. (see [below for nested schema](#nestedatt--config--sharded_postgresql_config--router--resources))

Optional:

- `config` (Map of String) Router settings.

<a id="nestedatt--config--sharded_postgresql_config--router--resources"></a>
### Nested Schema for `config.sharded_postgresql_config.router.resources`

Required:

- `disk_size` (Number) Size of the disk in bytes.
- `disk_type_id` (String) ID of the disk type that determines the disk performance characteristics.
- `resource_preset_id` (String) ID of the resource preset that determines the number of CPU cores and memory size for the host.




<a id="nestedatt--config--access"></a>
### Nested Schema for `config.access`

Optional:

- `data_lens` (Boolean) Allow access for Yandex DataLens.
- `data_transfer` (Boolean) Allow access for DataTransfer
- `serverless` (Boolean) Allow access for connection to managed databases from functions
- `web_sql` (Boolean) Allow access for SQL queries in the management console


<a id="nestedatt--config--backup_window_start"></a>
### Nested Schema for `config.backup_window_start`

Optional:

- `hours` (Number) The hour at which backup will be started (UTC).
- `minutes` (Number) The minute at which backup will be started (UTC).



<a id="nestedatt--hosts"></a>
### Nested Schema for `hosts`

Required:

- `type` (String)
- `zone` (String) The availability zone where the host is located.

Optional:

- `assign_public_ip` (Boolean) Assign a public IP address to the host.
- `subnet_id` (String) ID of the subnet where the host is located.

Read-Only:

- `fqdn` (String) The fully qualified domain name of the host.


<a id="nestedatt--maintenance_window"></a>
### Nested Schema for `maintenance_window`

Optional:

- `day` (String) Day of the week (in DDD format). Allowed values: "MON", "TUE", "WED", "THU", "FRI", "SAT","SUN"
- `hour` (Number) Hour of the day in UTC (in HH format). Allowed value is between 1 and 24.
- `type` (String) Type of maintenance window. Can be either ANYTIME or WEEKLY. A day and hour of window need to be specified with weekly window.
