// Code generated by tfgen. DO NOT EDIT.

package yandex_organizationmanager_user_ssh_key

import (
	"context"
	"time"

	"github.com/hashicorp/terraform-plugin-framework-timeouts/resource/timeouts"
	"github.com/hashicorp/terraform-plugin-framework/attr"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/hashicorp/terraform-plugin-framework/types/basetypes"
	organizationmanager "github.com/yandex-cloud/go-genproto/yandex/cloud/organizationmanager/v1"
	"github.com/yandex-cloud/terraform-provider-yandex/pkg/converter"
)

type yandexOrganizationmanagerUserSshKeyModel struct {
	CreatedAt      types.String   `tfsdk:"created_at"`
	Data           types.String   `tfsdk:"data"`
	ExpiresAt      types.String   `tfsdk:"expires_at"`
	Fingerprint    types.String   `tfsdk:"fingerprint"`
	Name           types.String   `tfsdk:"name"`
	OrganizationId types.String   `tfsdk:"organization_id"`
	SubjectId      types.String   `tfsdk:"subject_id"`
	UserSshKeyId   types.String   `tfsdk:"user_ssh_key_id"`
	ID             types.String   `tfsdk:"id"`
	Timeouts       timeouts.Value `tfsdk:"timeouts"`
}

func (m *yandexOrganizationmanagerUserSshKeyModel) GetCreatedAt() types.String {
	return m.CreatedAt
}
func (m *yandexOrganizationmanagerUserSshKeyModel) GetData() types.String {
	return m.Data
}
func (m *yandexOrganizationmanagerUserSshKeyModel) GetExpiresAt() types.String {
	return m.ExpiresAt
}
func (m *yandexOrganizationmanagerUserSshKeyModel) GetFingerprint() types.String {
	return m.Fingerprint
}
func (m *yandexOrganizationmanagerUserSshKeyModel) GetName() types.String {
	return m.Name
}
func (m *yandexOrganizationmanagerUserSshKeyModel) GetOrganizationId() types.String {
	return m.OrganizationId
}
func (m *yandexOrganizationmanagerUserSshKeyModel) GetSubjectId() types.String {
	return m.SubjectId
}
func (m *yandexOrganizationmanagerUserSshKeyModel) GetUserSshKeyId() types.String {
	return m.UserSshKeyId
}
func (m *yandexOrganizationmanagerUserSshKeyModel) GetID() types.String {
	return m.ID
}

func NewYandexOrganizationmanagerUserSshKeyModel() yandexOrganizationmanagerUserSshKeyModel {
	return yandexOrganizationmanagerUserSshKeyModel{
		CreatedAt:      types.StringNull(),
		Data:           types.StringNull(),
		ExpiresAt:      types.StringNull(),
		Fingerprint:    types.StringNull(),
		Name:           types.StringNull(),
		OrganizationId: types.StringNull(),
		SubjectId:      types.StringNull(),
		UserSshKeyId:   types.StringNull(),
		ID:             types.StringNull(),
	}
}

func yandexOrganizationmanagerUserSshKeyModelFillUnknown(target yandexOrganizationmanagerUserSshKeyModel) yandexOrganizationmanagerUserSshKeyModel {
	if target.CreatedAt.IsUnknown() || target.CreatedAt.IsNull() {
		target.CreatedAt = types.StringNull()
	}
	if target.Data.IsUnknown() || target.Data.IsNull() {
		target.Data = types.StringNull()
	}
	if target.ExpiresAt.IsUnknown() || target.ExpiresAt.IsNull() {
		target.ExpiresAt = types.StringNull()
	}
	if target.Fingerprint.IsUnknown() || target.Fingerprint.IsNull() {
		target.Fingerprint = types.StringNull()
	}
	if target.Name.IsUnknown() || target.Name.IsNull() {
		target.Name = types.StringNull()
	}
	if target.OrganizationId.IsUnknown() || target.OrganizationId.IsNull() {
		target.OrganizationId = types.StringNull()
	}
	if target.SubjectId.IsUnknown() || target.SubjectId.IsNull() {
		target.SubjectId = types.StringNull()
	}
	if target.UserSshKeyId.IsUnknown() || target.UserSshKeyId.IsNull() {
		target.UserSshKeyId = types.StringNull()
	}
	if target.ID.IsUnknown() || target.ID.IsNull() {
		target.ID = types.StringNull()
	}
	return target
}

var yandexOrganizationmanagerUserSshKeyModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"created_at":      types.StringType,
		"data":            types.StringType,
		"expires_at":      types.StringType,
		"fingerprint":     types.StringType,
		"name":            types.StringType,
		"organization_id": types.StringType,
		"subject_id":      types.StringType,
		"user_ssh_key_id": types.StringType,
		"id":              types.StringType,
		"timeouts":        timeouts.BlockAll(context.Background()).Type(),
	},
}

func flattenYandexOrganizationmanagerUserSshKey(ctx context.Context,
	yandexOrganizationmanagerUserSshKey *organizationmanager.UserSshKey,
	state yandexOrganizationmanagerUserSshKeyModel,
	to timeouts.Value,
	diags *diag.Diagnostics) types.Object {
	if yandexOrganizationmanagerUserSshKey == nil {
		return types.ObjectNull(yandexOrganizationmanagerUserSshKeyModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexOrganizationmanagerUserSshKeyModelType.AttrTypes, yandexOrganizationmanagerUserSshKeyModel{
		CreatedAt:      types.StringValue(yandexOrganizationmanagerUserSshKey.GetCreatedAt().AsTime().Format(time.RFC3339)),
		Data:           types.StringValue(yandexOrganizationmanagerUserSshKey.GetData()),
		ExpiresAt:      types.StringValue(yandexOrganizationmanagerUserSshKey.GetExpiresAt().AsTime().Format(time.RFC3339)),
		Fingerprint:    types.StringValue(yandexOrganizationmanagerUserSshKey.GetFingerprint()),
		Name:           types.StringValue(yandexOrganizationmanagerUserSshKey.GetName()),
		OrganizationId: types.StringValue(yandexOrganizationmanagerUserSshKey.GetOrganizationId()),
		SubjectId:      types.StringValue(yandexOrganizationmanagerUserSshKey.GetSubjectId()),
		UserSshKeyId:   types.StringValue(yandexOrganizationmanagerUserSshKey.GetId()),
		ID:             types.StringValue(yandexOrganizationmanagerUserSshKey.GetId()),
		Timeouts:       to,
	})
	diags.Append(diag...)
	return value
}

func expandYandexOrganizationmanagerUserSshKey(ctx context.Context, yandexOrganizationmanagerUserSshKeyState types.Object, diags *diag.Diagnostics) *organizationmanager.UserSshKey {
	if yandexOrganizationmanagerUserSshKeyState.IsNull() || yandexOrganizationmanagerUserSshKeyState.IsUnknown() {
		return nil
	}
	var yandexOrganizationmanagerUserSshKey yandexOrganizationmanagerUserSshKeyModel
	diags.Append(yandexOrganizationmanagerUserSshKeyState.As(ctx, &yandexOrganizationmanagerUserSshKey, basetypes.ObjectAsOptions{UnhandledNullAsEmpty: true, UnhandledUnknownAsEmpty: true})...)
	if diags.HasError() {
		return nil
	}
	return expandYandexOrganizationmanagerUserSshKeyModel(ctx, yandexOrganizationmanagerUserSshKey, diags)
}

func expandYandexOrganizationmanagerUserSshKeyModel(ctx context.Context, yandexOrganizationmanagerUserSshKeyState yandexOrganizationmanagerUserSshKeyModel, diags *diag.Diagnostics) *organizationmanager.UserSshKey {
	value := &organizationmanager.UserSshKey{}
	value.SetCreatedAt(converter.ParseTimestamp(yandexOrganizationmanagerUserSshKeyState.CreatedAt.ValueString(), diags))
	value.SetData(yandexOrganizationmanagerUserSshKeyState.Data.ValueString())
	value.SetExpiresAt(converter.ParseTimestamp(yandexOrganizationmanagerUserSshKeyState.ExpiresAt.ValueString(), diags))
	value.SetFingerprint(yandexOrganizationmanagerUserSshKeyState.Fingerprint.ValueString())
	value.SetName(yandexOrganizationmanagerUserSshKeyState.Name.ValueString())
	value.SetOrganizationId(yandexOrganizationmanagerUserSshKeyState.OrganizationId.ValueString())
	value.SetSubjectId(yandexOrganizationmanagerUserSshKeyState.SubjectId.ValueString())
	value.SetId(yandexOrganizationmanagerUserSshKeyState.UserSshKeyId.ValueString())
	value.SetId(yandexOrganizationmanagerUserSshKeyState.UserSshKeyId.ValueString())
	if diags.HasError() {
		return nil
	}
	return value
}
