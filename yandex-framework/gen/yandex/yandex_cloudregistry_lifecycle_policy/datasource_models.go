// Code generated by tfgen. DO NOT EDIT.

package yandex_cloudregistry_lifecycle_policy

import (
	"context"
	"time"

	"github.com/hashicorp/terraform-plugin-framework-timeouts/resource/timeouts"
	"github.com/hashicorp/terraform-plugin-framework/attr"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	cloudregistry "github.com/yandex-cloud/go-genproto/yandex/cloud/cloudregistry/v1"
)

type yandexCloudregistryLifecyclePolicyDatasourceModel struct {
	CreatedAt   types.String   `tfsdk:"created_at"`
	CreatedBy   types.String   `tfsdk:"created_by"`
	Description types.String   `tfsdk:"description"`
	ModifiedAt  types.String   `tfsdk:"modified_at"`
	ModifiedBy  types.String   `tfsdk:"modified_by"`
	Name        types.String   `tfsdk:"name"`
	PolicyId    types.String   `tfsdk:"policy_id"`
	ID          types.String   `tfsdk:"id"`
	RegistryId  types.String   `tfsdk:"registry_id"`
	Rules       types.List     `tfsdk:"rules"`
	State       types.String   `tfsdk:"state"`
	Timeouts    timeouts.Value `tfsdk:"timeouts"`
}

func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetCreatedAt() types.String {
	return m.CreatedAt
}
func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetCreatedBy() types.String {
	return m.CreatedBy
}
func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetDescription() types.String {
	return m.Description
}
func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetModifiedAt() types.String {
	return m.ModifiedAt
}
func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetModifiedBy() types.String {
	return m.ModifiedBy
}
func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetName() types.String {
	return m.Name
}
func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetPolicyId() types.String {
	return m.PolicyId
}
func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetID() types.String {
	return m.ID
}
func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetRegistryId() types.String {
	return m.RegistryId
}
func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetRules() types.List {
	return m.Rules
}
func (m *yandexCloudregistryLifecyclePolicyDatasourceModel) GetState() types.String {
	return m.State
}

func NewYandexCloudregistryLifecyclePolicyDatasourceModel() yandexCloudregistryLifecyclePolicyDatasourceModel {
	return yandexCloudregistryLifecyclePolicyDatasourceModel{
		CreatedAt:   types.StringNull(),
		CreatedBy:   types.StringNull(),
		Description: types.StringNull(),
		ModifiedAt:  types.StringNull(),
		ModifiedBy:  types.StringNull(),
		Name:        types.StringNull(),
		PolicyId:    types.StringNull(),
		ID:          types.StringNull(),
		RegistryId:  types.StringNull(),
		Rules:       types.ListNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType),
		State:       types.StringNull(),
	}
}

func yandexCloudregistryLifecyclePolicyDatasourceModelFillUnknown(target yandexCloudregistryLifecyclePolicyDatasourceModel) yandexCloudregistryLifecyclePolicyDatasourceModel {
	if target.CreatedAt.IsUnknown() || target.CreatedAt.IsNull() {
		target.CreatedAt = types.StringNull()
	}
	if target.CreatedBy.IsUnknown() || target.CreatedBy.IsNull() {
		target.CreatedBy = types.StringNull()
	}
	if target.Description.IsUnknown() || target.Description.IsNull() {
		target.Description = types.StringNull()
	}
	if target.ModifiedAt.IsUnknown() || target.ModifiedAt.IsNull() {
		target.ModifiedAt = types.StringNull()
	}
	if target.ModifiedBy.IsUnknown() || target.ModifiedBy.IsNull() {
		target.ModifiedBy = types.StringNull()
	}
	if target.Name.IsUnknown() || target.Name.IsNull() {
		target.Name = types.StringNull()
	}
	if target.PolicyId.IsUnknown() || target.PolicyId.IsNull() {
		target.PolicyId = types.StringNull()
	}
	if target.ID.IsUnknown() || target.ID.IsNull() {
		target.ID = types.StringNull()
	}
	if target.RegistryId.IsUnknown() || target.RegistryId.IsNull() {
		target.RegistryId = types.StringNull()
	}
	if target.Rules.IsUnknown() || target.Rules.IsNull() {
		target.Rules = types.ListNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType)
	}
	if target.State.IsUnknown() || target.State.IsNull() {
		target.State = types.StringNull()
	}
	return target
}

var yandexCloudregistryLifecyclePolicyDatasourceModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"created_at":  types.StringType,
		"created_by":  types.StringType,
		"description": types.StringType,
		"modified_at": types.StringType,
		"modified_by": types.StringType,
		"name":        types.StringType,
		"policy_id":   types.StringType,
		"id":          types.StringType,
		"registry_id": types.StringType,
		"rules":       types.ListType{ElemType: yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType},
		"state":       types.StringType,
		"timeouts":    timeouts.AttributesAll(context.Background()).GetType(),
	},
}

func flattenYandexCloudregistryLifecyclePolicyDatasource(ctx context.Context,
	yandexCloudregistryLifecyclePolicyDatasource *cloudregistry.LifecyclePolicy,
	state yandexCloudregistryLifecyclePolicyDatasourceModel,
	to timeouts.Value,
	diags *diag.Diagnostics) types.Object {
	if yandexCloudregistryLifecyclePolicyDatasource == nil {
		return types.ObjectNull(yandexCloudregistryLifecyclePolicyDatasourceModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexCloudregistryLifecyclePolicyDatasourceModelType.AttrTypes, yandexCloudregistryLifecyclePolicyDatasourceModel{
		CreatedAt:   types.StringValue(yandexCloudregistryLifecyclePolicyDatasource.GetCreatedAt().AsTime().Format(time.RFC3339)),
		CreatedBy:   types.StringValue(yandexCloudregistryLifecyclePolicyDatasource.GetCreatedBy()),
		Description: types.StringValue(yandexCloudregistryLifecyclePolicyDatasource.GetDescription()),
		ModifiedAt:  types.StringValue(yandexCloudregistryLifecyclePolicyDatasource.GetModifiedAt().AsTime().Format(time.RFC3339)),
		ModifiedBy:  types.StringValue(yandexCloudregistryLifecyclePolicyDatasource.GetModifiedBy()),
		Name:        types.StringValue(yandexCloudregistryLifecyclePolicyDatasource.GetName()),
		PolicyId:    types.StringValue(yandexCloudregistryLifecyclePolicyDatasource.GetId()),
		ID:          types.StringValue(yandexCloudregistryLifecyclePolicyDatasource.GetId()),
		RegistryId:  types.StringValue(yandexCloudregistryLifecyclePolicyDatasource.GetRegistryId()),
		Rules:       flattenYandexCloudregistryLifecyclePolicyRules(ctx, yandexCloudregistryLifecyclePolicyDatasource.GetRules(), state.Rules, diags),
		State:       types.StringValue(yandexCloudregistryLifecyclePolicyDatasource.GetState().String()),
		Timeouts:    to,
	})
	diags.Append(diag...)
	return value
}
