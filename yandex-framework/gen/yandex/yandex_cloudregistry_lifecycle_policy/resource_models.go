// Code generated by tfgen. DO NOT EDIT.

package yandex_cloudregistry_lifecycle_policy

import (
	"context"
	"time"

	"github.com/hashicorp/terraform-plugin-framework-timeouts/resource/timeouts"
	"github.com/hashicorp/terraform-plugin-framework/attr"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/hashicorp/terraform-plugin-framework/types/basetypes"
	cloudregistry "github.com/yandex-cloud/go-genproto/yandex/cloud/cloudregistry/v1"
	"github.com/yandex-cloud/terraform-provider-yandex/pkg/converter"
)

type yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel struct {
	Delete        types.Object `tfsdk:"delete"`
	DockerFilters types.Object `tfsdk:"docker_filters"`
	KeepByAge     types.Object `tfsdk:"keep_by_age"`
	KeepByVersion types.Object `tfsdk:"keep_by_version"`
	MavenFilters  types.Object `tfsdk:"maven_filters"`
	PathPrefix    types.String `tfsdk:"path_prefix"`
	VersionRegexp types.String `tfsdk:"version_regexp"`
}

func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel) GetDelete() types.Object {
	return m.Delete
}
func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel) GetDockerFilters() types.Object {
	return m.DockerFilters
}
func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel) GetKeepByAge() types.Object {
	return m.KeepByAge
}
func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel) GetKeepByVersion() types.Object {
	return m.KeepByVersion
}
func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel) GetMavenFilters() types.Object {
	return m.MavenFilters
}
func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel) GetPathPrefix() types.String {
	return m.PathPrefix
}
func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel) GetVersionRegexp() types.String {
	return m.VersionRegexp
}

func NewYandexCloudregistryLifecyclePolicyLifecycleRuleStructModel() yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel {
	return yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel{
		Delete:        types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModelType.AttrTypes),
		DockerFilters: types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModelType.AttrTypes),
		KeepByAge:     types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModelType.AttrTypes),
		KeepByVersion: types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModelType.AttrTypes),
		MavenFilters:  types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModelType.AttrTypes),
		PathPrefix:    types.StringNull(),
		VersionRegexp: types.StringNull(),
	}
}

func yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelFillUnknown(target yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel) yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel {
	if target.Delete.IsUnknown() || target.Delete.IsNull() {
		target.Delete = types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModelType.AttrTypes)
	}
	if target.DockerFilters.IsUnknown() || target.DockerFilters.IsNull() {
		target.DockerFilters = types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModelType.AttrTypes)
	}
	if target.KeepByAge.IsUnknown() || target.KeepByAge.IsNull() {
		target.KeepByAge = types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModelType.AttrTypes)
	}
	if target.KeepByVersion.IsUnknown() || target.KeepByVersion.IsNull() {
		target.KeepByVersion = types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModelType.AttrTypes)
	}
	if target.MavenFilters.IsUnknown() || target.MavenFilters.IsNull() {
		target.MavenFilters = types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModelType.AttrTypes)
	}
	if target.PathPrefix.IsUnknown() || target.PathPrefix.IsNull() {
		target.PathPrefix = types.StringNull()
	}
	if target.VersionRegexp.IsUnknown() || target.VersionRegexp.IsNull() {
		target.VersionRegexp = types.StringNull()
	}
	return target
}

var yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"delete":          yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModelType,
		"docker_filters":  yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModelType,
		"keep_by_age":     yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModelType,
		"keep_by_version": yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModelType,
		"maven_filters":   yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModelType,
		"path_prefix":     types.StringType,
		"version_regexp":  types.StringType,
	},
}

func flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStruct(ctx context.Context,
	yandexCloudregistryLifecyclePolicyLifecycleRuleStruct *cloudregistry.LifecycleRule,
	diags *diag.Diagnostics) types.Object {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStruct == nil {
		return types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType.AttrTypes, yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel{
		Delete:        flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStruct.GetDelete(), diags),
		DockerFilters: flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFilters(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStruct.GetDockerFilters(), diags),
		KeepByAge:     flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAge(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStruct.GetKeepByAge(), diags),
		KeepByVersion: flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersion(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStruct.GetKeepByVersion(), diags),
		MavenFilters:  flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFilters(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStruct.GetMavenFilters(), diags),
		PathPrefix:    types.StringValue(yandexCloudregistryLifecyclePolicyLifecycleRuleStruct.GetPathPrefix()),
		VersionRegexp: types.StringValue(yandexCloudregistryLifecyclePolicyLifecycleRuleStruct.GetVersionRegexp()),
	})
	diags.Append(diag...)
	return value
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStruct(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructState types.Object, diags *diag.Diagnostics) *cloudregistry.LifecycleRule {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.IsUnknown() {
		return nil
	}
	var yandexCloudregistryLifecyclePolicyLifecycleRuleStruct yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel
	diags.Append(yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.As(ctx, &yandexCloudregistryLifecyclePolicyLifecycleRuleStruct, basetypes.ObjectAsOptions{UnhandledNullAsEmpty: true, UnhandledUnknownAsEmpty: true})...)
	if diags.HasError() {
		return nil
	}
	return expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructModel(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStruct, diags)
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructModel(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructState yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel, diags *diag.Diagnostics) *cloudregistry.LifecycleRule {
	value := &cloudregistry.LifecycleRule{}
	if !(yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.Delete.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.Delete.IsUnknown() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.Delete.Equal(types.Object{})) {
		value.SetDelete(expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.Delete, diags))
	}
	if !(yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.DockerFilters.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.DockerFilters.IsUnknown() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.DockerFilters.Equal(types.Object{})) {
		value.SetDockerFilters(expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFilters(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.DockerFilters, diags))
	}
	if !(yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.KeepByAge.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.KeepByAge.IsUnknown() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.KeepByAge.Equal(types.Object{})) {
		value.SetKeepByAge(expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAge(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.KeepByAge, diags))
	}
	if !(yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.KeepByVersion.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.KeepByVersion.IsUnknown() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.KeepByVersion.Equal(types.Object{})) {
		value.SetKeepByVersion(expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersion(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.KeepByVersion, diags))
	}
	if !(yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.MavenFilters.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.MavenFilters.IsUnknown() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.MavenFilters.Equal(types.Object{})) {
		value.SetMavenFilters(expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFilters(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.MavenFilters, diags))
	}
	value.SetPathPrefix(yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.PathPrefix.ValueString())
	value.SetVersionRegexp(yandexCloudregistryLifecyclePolicyLifecycleRuleStructState.VersionRegexp.ValueString())
	if diags.HasError() {
		return nil
	}
	return value
}

type yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel struct {
	Always             types.Bool   `tfsdk:"always"`
	CooldownPeriodDays types.Int64  `tfsdk:"cooldown_period_days"`
	OlderThanDays      types.Int64  `tfsdk:"older_than_days"`
	Type               types.String `tfsdk:"type"`
	VersionCondition   types.Object `tfsdk:"version_condition"`
}

func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel) GetAlways() types.Bool {
	return m.Always
}
func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel) GetCooldownPeriodDays() types.Int64 {
	return m.CooldownPeriodDays
}
func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel) GetOlderThanDays() types.Int64 {
	return m.OlderThanDays
}
func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel) GetType() types.String {
	return m.Type
}
func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel) GetVersionCondition() types.Object {
	return m.VersionCondition
}

func NewYandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel() yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel {
	return yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel{
		Always:             types.BoolNull(),
		CooldownPeriodDays: types.Int64Null(),
		OlderThanDays:      types.Int64Null(),
		Type:               types.StringNull(),
		VersionCondition:   types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModelType.AttrTypes),
	}
}

func yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModelFillUnknown(target yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel) yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel {
	if target.Always.IsUnknown() || target.Always.IsNull() {
		target.Always = types.BoolNull()
	}
	if target.CooldownPeriodDays.IsUnknown() || target.CooldownPeriodDays.IsNull() {
		target.CooldownPeriodDays = types.Int64Null()
	}
	if target.OlderThanDays.IsUnknown() || target.OlderThanDays.IsNull() {
		target.OlderThanDays = types.Int64Null()
	}
	if target.Type.IsUnknown() || target.Type.IsNull() {
		target.Type = types.StringNull()
	}
	if target.VersionCondition.IsUnknown() || target.VersionCondition.IsNull() {
		target.VersionCondition = types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModelType.AttrTypes)
	}
	return target
}

var yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"always":               types.BoolType,
		"cooldown_period_days": types.Int64Type,
		"older_than_days":      types.Int64Type,
		"type":                 types.StringType,
		"version_condition":    yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModelType,
	},
}

func flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete(ctx context.Context,
	yandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete *cloudregistry.DeleteLifecycleRule,
	diags *diag.Diagnostics) types.Object {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete == nil {
		return types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModelType.AttrTypes, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel{
		Always:             types.BoolValue(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete.GetAlways()),
		CooldownPeriodDays: types.Int64Value(int64(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete.GetCooldownPeriodDays())),
		OlderThanDays:      types.Int64Value(int64(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete.GetOlderThanDays())),
		Type:               types.StringValue(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete.GetType().String()),
		VersionCondition:   flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionCondition(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete.GetVersionCondition(), diags),
	})
	diags.Append(diag...)
	return value
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState types.Object, diags *diag.Diagnostics) *cloudregistry.DeleteLifecycleRule {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.IsUnknown() {
		return nil
	}
	var yandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel
	diags.Append(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.As(ctx, &yandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete, basetypes.ObjectAsOptions{UnhandledNullAsEmpty: true, UnhandledUnknownAsEmpty: true})...)
	if diags.HasError() {
		return nil
	}
	return expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDelete, diags)
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteModel, diags *diag.Diagnostics) *cloudregistry.DeleteLifecycleRule {
	value := &cloudregistry.DeleteLifecycleRule{}
	if !(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.Always.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.Always.IsUnknown() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.Always.Equal(types.BoolValue(false))) {
		value.SetAlways(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.Always.ValueBool())
	}
	value.SetCooldownPeriodDays((yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.CooldownPeriodDays.ValueInt64()))
	if !(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.OlderThanDays.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.OlderThanDays.IsUnknown() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.OlderThanDays.Equal(types.Int64Value(int64(0)))) {
		value.SetOlderThanDays((yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.OlderThanDays.ValueInt64()))
	}
	value.SetType(cloudregistry.DeleteLifecycleRuleKind(cloudregistry.DeleteLifecycleRuleKind_value[yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.Type.ValueString()]))
	if !(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.VersionCondition.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.VersionCondition.IsUnknown() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.VersionCondition.Equal(types.Object{})) {
		value.SetVersionCondition(expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionCondition(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteState.VersionCondition, diags))
	}
	if diags.HasError() {
		return nil
	}
	return value
}

type yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel struct {
	VersionsCountGreaterThan types.Int64 `tfsdk:"versions_count_greater_than"`
}

func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel) GetVersionsCountGreaterThan() types.Int64 {
	return m.VersionsCountGreaterThan
}

func NewYandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel() yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel {
	return yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel{
		VersionsCountGreaterThan: types.Int64Null(),
	}
}

func yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModelFillUnknown(target yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel) yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel {
	if target.VersionsCountGreaterThan.IsUnknown() || target.VersionsCountGreaterThan.IsNull() {
		target.VersionsCountGreaterThan = types.Int64Null()
	}
	return target
}

var yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"versions_count_greater_than": types.Int64Type,
	},
}

func flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionCondition(ctx context.Context,
	yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionCondition *cloudregistry.DeleteByVersionCondition,
	diags *diag.Diagnostics) types.Object {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionCondition == nil {
		return types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModelType.AttrTypes, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel{
		VersionsCountGreaterThan: types.Int64Value(int64(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionCondition.GetVersionsCountGreaterThan())),
	})
	diags.Append(diag...)
	return value
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionCondition(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionState types.Object, diags *diag.Diagnostics) *cloudregistry.DeleteByVersionCondition {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionState.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionState.IsUnknown() {
		return nil
	}
	var yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionCondition yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel
	diags.Append(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionState.As(ctx, &yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionCondition, basetypes.ObjectAsOptions{UnhandledNullAsEmpty: true, UnhandledUnknownAsEmpty: true})...)
	if diags.HasError() {
		return nil
	}
	return expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionCondition, diags)
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionState yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionModel, diags *diag.Diagnostics) *cloudregistry.DeleteByVersionCondition {
	value := &cloudregistry.DeleteByVersionCondition{}
	value.SetVersionsCountGreaterThan((yandexCloudregistryLifecyclePolicyLifecycleRuleStructDeleteVersionConditionState.VersionsCountGreaterThan.ValueInt64()))
	if diags.HasError() {
		return nil
	}
	return value
}

type yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel struct {
	TagStatus types.String `tfsdk:"tag_status"`
}

func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel) GetTagStatus() types.String {
	return m.TagStatus
}

func NewYandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel() yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel {
	return yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel{
		TagStatus: types.StringNull(),
	}
}

func yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModelFillUnknown(target yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel) yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel {
	if target.TagStatus.IsUnknown() || target.TagStatus.IsNull() {
		target.TagStatus = types.StringNull()
	}
	return target
}

var yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"tag_status": types.StringType,
	},
}

func flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFilters(ctx context.Context,
	yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFilters *cloudregistry.DockerFilters,
	diags *diag.Diagnostics) types.Object {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFilters == nil {
		return types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModelType.AttrTypes, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel{
		TagStatus: types.StringValue(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFilters.GetTagStatus().String()),
	})
	diags.Append(diag...)
	return value
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFilters(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersState types.Object, diags *diag.Diagnostics) *cloudregistry.DockerFilters {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersState.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersState.IsUnknown() {
		return nil
	}
	var yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFilters yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel
	diags.Append(yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersState.As(ctx, &yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFilters, basetypes.ObjectAsOptions{UnhandledNullAsEmpty: true, UnhandledUnknownAsEmpty: true})...)
	if diags.HasError() {
		return nil
	}
	return expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFilters, diags)
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersState yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersModel, diags *diag.Diagnostics) *cloudregistry.DockerFilters {
	value := &cloudregistry.DockerFilters{}
	value.SetTagStatus(cloudregistry.DockerFilters_TagStatus(cloudregistry.DockerFilters_TagStatus_value[yandexCloudregistryLifecyclePolicyLifecycleRuleStructDockerFiltersState.TagStatus.ValueString()]))
	if diags.HasError() {
		return nil
	}
	return value
}

type yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel struct {
	YoungerThanDays types.Int64 `tfsdk:"younger_than_days"`
}

func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel) GetYoungerThanDays() types.Int64 {
	return m.YoungerThanDays
}

func NewYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel() yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel {
	return yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel{
		YoungerThanDays: types.Int64Null(),
	}
}

func yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModelFillUnknown(target yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel) yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel {
	if target.YoungerThanDays.IsUnknown() || target.YoungerThanDays.IsNull() {
		target.YoungerThanDays = types.Int64Null()
	}
	return target
}

var yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"younger_than_days": types.Int64Type,
	},
}

func flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAge(ctx context.Context,
	yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAge *cloudregistry.KeepByAgeLifecycleRule,
	diags *diag.Diagnostics) types.Object {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAge == nil {
		return types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModelType.AttrTypes, yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel{
		YoungerThanDays: types.Int64Value(int64(yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAge.GetYoungerThanDays())),
	})
	diags.Append(diag...)
	return value
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAge(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeState types.Object, diags *diag.Diagnostics) *cloudregistry.KeepByAgeLifecycleRule {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeState.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeState.IsUnknown() {
		return nil
	}
	var yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAge yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel
	diags.Append(yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeState.As(ctx, &yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAge, basetypes.ObjectAsOptions{UnhandledNullAsEmpty: true, UnhandledUnknownAsEmpty: true})...)
	if diags.HasError() {
		return nil
	}
	return expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAge, diags)
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeState yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeModel, diags *diag.Diagnostics) *cloudregistry.KeepByAgeLifecycleRule {
	value := &cloudregistry.KeepByAgeLifecycleRule{}
	value.SetYoungerThanDays((yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByAgeState.YoungerThanDays.ValueInt64()))
	if diags.HasError() {
		return nil
	}
	return value
}

type yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel struct {
	KeepVersionsCount types.Int64 `tfsdk:"keep_versions_count"`
}

func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel) GetKeepVersionsCount() types.Int64 {
	return m.KeepVersionsCount
}

func NewYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel() yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel {
	return yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel{
		KeepVersionsCount: types.Int64Null(),
	}
}

func yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModelFillUnknown(target yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel) yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel {
	if target.KeepVersionsCount.IsUnknown() || target.KeepVersionsCount.IsNull() {
		target.KeepVersionsCount = types.Int64Null()
	}
	return target
}

var yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"keep_versions_count": types.Int64Type,
	},
}

func flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersion(ctx context.Context,
	yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersion *cloudregistry.KeepByVersionLifecycleRule,
	diags *diag.Diagnostics) types.Object {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersion == nil {
		return types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModelType.AttrTypes, yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel{
		KeepVersionsCount: types.Int64Value(int64(yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersion.GetKeepVersionsCount())),
	})
	diags.Append(diag...)
	return value
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersion(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionState types.Object, diags *diag.Diagnostics) *cloudregistry.KeepByVersionLifecycleRule {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionState.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionState.IsUnknown() {
		return nil
	}
	var yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersion yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel
	diags.Append(yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionState.As(ctx, &yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersion, basetypes.ObjectAsOptions{UnhandledNullAsEmpty: true, UnhandledUnknownAsEmpty: true})...)
	if diags.HasError() {
		return nil
	}
	return expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersion, diags)
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionState yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionModel, diags *diag.Diagnostics) *cloudregistry.KeepByVersionLifecycleRule {
	value := &cloudregistry.KeepByVersionLifecycleRule{}
	value.SetKeepVersionsCount((yandexCloudregistryLifecyclePolicyLifecycleRuleStructKeepByVersionState.KeepVersionsCount.ValueInt64()))
	if diags.HasError() {
		return nil
	}
	return value
}

type yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel struct {
	VersionType types.String `tfsdk:"version_type"`
}

func (m *yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel) GetVersionType() types.String {
	return m.VersionType
}

func NewYandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel() yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel {
	return yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel{
		VersionType: types.StringNull(),
	}
}

func yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModelFillUnknown(target yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel) yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel {
	if target.VersionType.IsUnknown() || target.VersionType.IsNull() {
		target.VersionType = types.StringNull()
	}
	return target
}

var yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"version_type": types.StringType,
	},
}

func flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFilters(ctx context.Context,
	yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFilters *cloudregistry.MavenFilters,
	diags *diag.Diagnostics) types.Object {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFilters == nil {
		return types.ObjectNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModelType.AttrTypes, yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel{
		VersionType: types.StringValue(yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFilters.GetVersionType().String()),
	})
	diags.Append(diag...)
	return value
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFilters(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersState types.Object, diags *diag.Diagnostics) *cloudregistry.MavenFilters {
	if yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersState.IsNull() || yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersState.IsUnknown() {
		return nil
	}
	var yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFilters yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel
	diags.Append(yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersState.As(ctx, &yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFilters, basetypes.ObjectAsOptions{UnhandledNullAsEmpty: true, UnhandledUnknownAsEmpty: true})...)
	if diags.HasError() {
		return nil
	}
	return expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel(ctx, yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFilters, diags)
}

func expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel(ctx context.Context, yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersState yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersModel, diags *diag.Diagnostics) *cloudregistry.MavenFilters {
	value := &cloudregistry.MavenFilters{}
	value.SetVersionType(cloudregistry.MavenFilters_VersionType(cloudregistry.MavenFilters_VersionType_value[yandexCloudregistryLifecyclePolicyLifecycleRuleStructMavenFiltersState.VersionType.ValueString()]))
	if diags.HasError() {
		return nil
	}
	return value
}

type yandexCloudregistryLifecyclePolicyModel struct {
	CreatedAt   types.String   `tfsdk:"created_at"`
	CreatedBy   types.String   `tfsdk:"created_by"`
	Description types.String   `tfsdk:"description"`
	ModifiedAt  types.String   `tfsdk:"modified_at"`
	ModifiedBy  types.String   `tfsdk:"modified_by"`
	Name        types.String   `tfsdk:"name"`
	PolicyId    types.String   `tfsdk:"policy_id"`
	ID          types.String   `tfsdk:"id"`
	RegistryId  types.String   `tfsdk:"registry_id"`
	Rules       types.List     `tfsdk:"rules"`
	State       types.String   `tfsdk:"state"`
	Timeouts    timeouts.Value `tfsdk:"timeouts"`
}

func (m *yandexCloudregistryLifecyclePolicyModel) GetCreatedAt() types.String {
	return m.CreatedAt
}
func (m *yandexCloudregistryLifecyclePolicyModel) GetCreatedBy() types.String {
	return m.CreatedBy
}
func (m *yandexCloudregistryLifecyclePolicyModel) GetDescription() types.String {
	return m.Description
}
func (m *yandexCloudregistryLifecyclePolicyModel) GetModifiedAt() types.String {
	return m.ModifiedAt
}
func (m *yandexCloudregistryLifecyclePolicyModel) GetModifiedBy() types.String {
	return m.ModifiedBy
}
func (m *yandexCloudregistryLifecyclePolicyModel) GetName() types.String {
	return m.Name
}
func (m *yandexCloudregistryLifecyclePolicyModel) GetPolicyId() types.String {
	return m.PolicyId
}
func (m *yandexCloudregistryLifecyclePolicyModel) GetID() types.String {
	return m.ID
}
func (m *yandexCloudregistryLifecyclePolicyModel) GetRegistryId() types.String {
	return m.RegistryId
}
func (m *yandexCloudregistryLifecyclePolicyModel) GetRules() types.List {
	return m.Rules
}
func (m *yandexCloudregistryLifecyclePolicyModel) GetState() types.String {
	return m.State
}

func NewYandexCloudregistryLifecyclePolicyModel() yandexCloudregistryLifecyclePolicyModel {
	return yandexCloudregistryLifecyclePolicyModel{
		CreatedAt:   types.StringNull(),
		CreatedBy:   types.StringNull(),
		Description: types.StringNull(),
		ModifiedAt:  types.StringNull(),
		ModifiedBy:  types.StringNull(),
		Name:        types.StringNull(),
		PolicyId:    types.StringNull(),
		ID:          types.StringNull(),
		RegistryId:  types.StringNull(),
		Rules:       types.ListNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType),
		State:       types.StringNull(),
	}
}

func yandexCloudregistryLifecyclePolicyModelFillUnknown(target yandexCloudregistryLifecyclePolicyModel) yandexCloudregistryLifecyclePolicyModel {
	if target.CreatedAt.IsUnknown() || target.CreatedAt.IsNull() {
		target.CreatedAt = types.StringNull()
	}
	if target.CreatedBy.IsUnknown() || target.CreatedBy.IsNull() {
		target.CreatedBy = types.StringNull()
	}
	if target.Description.IsUnknown() || target.Description.IsNull() {
		target.Description = types.StringNull()
	}
	if target.ModifiedAt.IsUnknown() || target.ModifiedAt.IsNull() {
		target.ModifiedAt = types.StringNull()
	}
	if target.ModifiedBy.IsUnknown() || target.ModifiedBy.IsNull() {
		target.ModifiedBy = types.StringNull()
	}
	if target.Name.IsUnknown() || target.Name.IsNull() {
		target.Name = types.StringNull()
	}
	if target.PolicyId.IsUnknown() || target.PolicyId.IsNull() {
		target.PolicyId = types.StringNull()
	}
	if target.ID.IsUnknown() || target.ID.IsNull() {
		target.ID = types.StringNull()
	}
	if target.RegistryId.IsUnknown() || target.RegistryId.IsNull() {
		target.RegistryId = types.StringNull()
	}
	if target.Rules.IsUnknown() || target.Rules.IsNull() {
		target.Rules = types.ListNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType)
	}
	if target.State.IsUnknown() || target.State.IsNull() {
		target.State = types.StringNull()
	}
	return target
}

var yandexCloudregistryLifecyclePolicyModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"created_at":  types.StringType,
		"created_by":  types.StringType,
		"description": types.StringType,
		"modified_at": types.StringType,
		"modified_by": types.StringType,
		"name":        types.StringType,
		"policy_id":   types.StringType,
		"id":          types.StringType,
		"registry_id": types.StringType,
		"rules":       types.ListType{ElemType: yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType},
		"state":       types.StringType,
		"timeouts":    timeouts.AttributesAll(context.Background()).GetType(),
	},
}

func flattenYandexCloudregistryLifecyclePolicy(ctx context.Context,
	yandexCloudregistryLifecyclePolicy *cloudregistry.LifecyclePolicy,
	state yandexCloudregistryLifecyclePolicyModel,
	to timeouts.Value,
	diags *diag.Diagnostics) types.Object {
	if yandexCloudregistryLifecyclePolicy == nil {
		return types.ObjectNull(yandexCloudregistryLifecyclePolicyModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexCloudregistryLifecyclePolicyModelType.AttrTypes, yandexCloudregistryLifecyclePolicyModel{
		CreatedAt:   types.StringValue(yandexCloudregistryLifecyclePolicy.GetCreatedAt().AsTime().Format(time.RFC3339)),
		CreatedBy:   types.StringValue(yandexCloudregistryLifecyclePolicy.GetCreatedBy()),
		Description: types.StringValue(yandexCloudregistryLifecyclePolicy.GetDescription()),
		ModifiedAt:  types.StringValue(yandexCloudregistryLifecyclePolicy.GetModifiedAt().AsTime().Format(time.RFC3339)),
		ModifiedBy:  types.StringValue(yandexCloudregistryLifecyclePolicy.GetModifiedBy()),
		Name:        types.StringValue(yandexCloudregistryLifecyclePolicy.GetName()),
		PolicyId:    types.StringValue(yandexCloudregistryLifecyclePolicy.GetId()),
		ID:          types.StringValue(yandexCloudregistryLifecyclePolicy.GetId()),
		RegistryId:  types.StringValue(yandexCloudregistryLifecyclePolicy.GetRegistryId()),
		Rules:       flattenYandexCloudregistryLifecyclePolicyRules(ctx, yandexCloudregistryLifecyclePolicy.GetRules(), state.Rules, diags),
		State:       types.StringValue(yandexCloudregistryLifecyclePolicy.GetState().String()),
		Timeouts:    to,
	})
	diags.Append(diag...)
	return value
}

func expandYandexCloudregistryLifecyclePolicy(ctx context.Context, yandexCloudregistryLifecyclePolicyState types.Object, diags *diag.Diagnostics) *cloudregistry.LifecyclePolicy {
	if yandexCloudregistryLifecyclePolicyState.IsNull() || yandexCloudregistryLifecyclePolicyState.IsUnknown() {
		return nil
	}
	var yandexCloudregistryLifecyclePolicy yandexCloudregistryLifecyclePolicyModel
	diags.Append(yandexCloudregistryLifecyclePolicyState.As(ctx, &yandexCloudregistryLifecyclePolicy, basetypes.ObjectAsOptions{UnhandledNullAsEmpty: true, UnhandledUnknownAsEmpty: true})...)
	if diags.HasError() {
		return nil
	}
	return expandYandexCloudregistryLifecyclePolicyModel(ctx, yandexCloudregistryLifecyclePolicy, diags)
}

func expandYandexCloudregistryLifecyclePolicyModel(ctx context.Context, yandexCloudregistryLifecyclePolicyState yandexCloudregistryLifecyclePolicyModel, diags *diag.Diagnostics) *cloudregistry.LifecyclePolicy {
	value := &cloudregistry.LifecyclePolicy{}
	value.SetCreatedAt(converter.ParseTimestamp(yandexCloudregistryLifecyclePolicyState.CreatedAt.ValueString(), diags))
	value.SetCreatedBy(yandexCloudregistryLifecyclePolicyState.CreatedBy.ValueString())
	value.SetDescription(yandexCloudregistryLifecyclePolicyState.Description.ValueString())
	value.SetModifiedAt(converter.ParseTimestamp(yandexCloudregistryLifecyclePolicyState.ModifiedAt.ValueString(), diags))
	value.SetModifiedBy(yandexCloudregistryLifecyclePolicyState.ModifiedBy.ValueString())
	value.SetName(yandexCloudregistryLifecyclePolicyState.Name.ValueString())
	value.SetId(yandexCloudregistryLifecyclePolicyState.PolicyId.ValueString())
	value.SetId(yandexCloudregistryLifecyclePolicyState.PolicyId.ValueString())
	value.SetRegistryId(yandexCloudregistryLifecyclePolicyState.RegistryId.ValueString())
	value.SetRules(expandYandexCloudregistryLifecyclePolicyRules(ctx, yandexCloudregistryLifecyclePolicyState.Rules, diags))
	value.SetState(cloudregistry.LifecyclePolicyState(cloudregistry.LifecyclePolicyState_value[yandexCloudregistryLifecyclePolicyState.State.ValueString()]))
	if diags.HasError() {
		return nil
	}
	return value
}

func flattenYandexCloudregistryLifecyclePolicyRules(ctx context.Context, yandexCloudregistryLifecyclePolicyRules []*cloudregistry.LifecycleRule, listState types.List, diags *diag.Diagnostics) types.List {
	if yandexCloudregistryLifecyclePolicyRules == nil {
		if !listState.IsNull() && !listState.IsUnknown() && len(listState.Elements()) == 0 {
			return listState
		}
		return types.ListNull(yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType)
	}
	var yandexCloudregistryLifecyclePolicyRulesValues []attr.Value
	for _, elem := range yandexCloudregistryLifecyclePolicyRules {
		val := flattenYandexCloudregistryLifecyclePolicyLifecycleRuleStruct(ctx, elem, diags)
		yandexCloudregistryLifecyclePolicyRulesValues = append(yandexCloudregistryLifecyclePolicyRulesValues, val)
	}

	value, diag := types.ListValue(yandexCloudregistryLifecyclePolicyLifecycleRuleStructModelType, yandexCloudregistryLifecyclePolicyRulesValues)
	diags.Append(diag...)
	return value
}

func expandYandexCloudregistryLifecyclePolicyRules(ctx context.Context, yandexCloudregistryLifecyclePolicyRulesState types.List, diags *diag.Diagnostics) []*cloudregistry.LifecycleRule {
	if yandexCloudregistryLifecyclePolicyRulesState.IsNull() || yandexCloudregistryLifecyclePolicyRulesState.IsUnknown() {
		return nil
	}
	if len(yandexCloudregistryLifecyclePolicyRulesState.Elements()) == 0 {
		return []*cloudregistry.LifecycleRule{}
	}
	yandexCloudregistryLifecyclePolicyRulesRes := make([]*cloudregistry.LifecycleRule, 0, len(yandexCloudregistryLifecyclePolicyRulesState.Elements()))
	yandexCloudregistryLifecyclePolicyRulesType := make([]yandexCloudregistryLifecyclePolicyLifecycleRuleStructModel, 0, len(yandexCloudregistryLifecyclePolicyRulesState.Elements()))
	diags.Append(yandexCloudregistryLifecyclePolicyRulesState.ElementsAs(ctx, &yandexCloudregistryLifecyclePolicyRulesType, false)...)
	if diags.HasError() {
		return nil
	}
	for _, elem := range yandexCloudregistryLifecyclePolicyRulesType {
		yandexCloudregistryLifecyclePolicyRulesRes = append(yandexCloudregistryLifecyclePolicyRulesRes, expandYandexCloudregistryLifecyclePolicyLifecycleRuleStructModel(ctx, elem, diags))
	}
	return yandexCloudregistryLifecyclePolicyRulesRes
}
