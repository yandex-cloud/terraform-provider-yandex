// Code generated by tfgen. DO NOT EDIT.

package yandex_organizationmanager_mfa_enforcement

import (
	"context"
	"time"

	"github.com/hashicorp/terraform-plugin-framework-timeouts/resource/timeouts"
	"github.com/hashicorp/terraform-plugin-framework/attr"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	"github.com/hashicorp/terraform-plugin-framework/types/basetypes"
	organizationmanager "github.com/yandex-cloud/go-genproto/yandex/cloud/organizationmanager/v1"
	"github.com/yandex-cloud/terraform-provider-yandex/pkg/converter"
)

type yandexOrganizationmanagerMfaEnforcementModel struct {
	AcrId            types.String   `tfsdk:"acr_id"`
	ApplyAt          types.String   `tfsdk:"apply_at"`
	CreatedAt        types.String   `tfsdk:"created_at"`
	Description      types.String   `tfsdk:"description"`
	EnrollWindow     types.String   `tfsdk:"enroll_window"`
	MfaEnforcementId types.String   `tfsdk:"mfa_enforcement_id"`
	ID               types.String   `tfsdk:"id"`
	Name             types.String   `tfsdk:"name"`
	OrganizationId   types.String   `tfsdk:"organization_id"`
	Status           types.String   `tfsdk:"status"`
	Ttl              types.String   `tfsdk:"ttl"`
	Timeouts         timeouts.Value `tfsdk:"timeouts"`
}

func (m *yandexOrganizationmanagerMfaEnforcementModel) GetAcrId() types.String {
	return m.AcrId
}
func (m *yandexOrganizationmanagerMfaEnforcementModel) GetApplyAt() types.String {
	return m.ApplyAt
}
func (m *yandexOrganizationmanagerMfaEnforcementModel) GetCreatedAt() types.String {
	return m.CreatedAt
}
func (m *yandexOrganizationmanagerMfaEnforcementModel) GetDescription() types.String {
	return m.Description
}
func (m *yandexOrganizationmanagerMfaEnforcementModel) GetEnrollWindow() types.String {
	return m.EnrollWindow
}
func (m *yandexOrganizationmanagerMfaEnforcementModel) GetMfaEnforcementId() types.String {
	return m.MfaEnforcementId
}
func (m *yandexOrganizationmanagerMfaEnforcementModel) GetID() types.String {
	return m.ID
}
func (m *yandexOrganizationmanagerMfaEnforcementModel) GetName() types.String {
	return m.Name
}
func (m *yandexOrganizationmanagerMfaEnforcementModel) GetOrganizationId() types.String {
	return m.OrganizationId
}
func (m *yandexOrganizationmanagerMfaEnforcementModel) GetStatus() types.String {
	return m.Status
}
func (m *yandexOrganizationmanagerMfaEnforcementModel) GetTtl() types.String {
	return m.Ttl
}

func NewYandexOrganizationmanagerMfaEnforcementModel() yandexOrganizationmanagerMfaEnforcementModel {
	return yandexOrganizationmanagerMfaEnforcementModel{
		AcrId:            types.StringNull(),
		ApplyAt:          types.StringNull(),
		CreatedAt:        types.StringNull(),
		Description:      types.StringNull(),
		EnrollWindow:     types.StringNull(),
		MfaEnforcementId: types.StringNull(),
		ID:               types.StringNull(),
		Name:             types.StringNull(),
		OrganizationId:   types.StringNull(),
		Status:           types.StringNull(),
		Ttl:              types.StringNull(),
	}
}

func yandexOrganizationmanagerMfaEnforcementModelFillUnknown(target yandexOrganizationmanagerMfaEnforcementModel) yandexOrganizationmanagerMfaEnforcementModel {
	if target.AcrId.IsUnknown() || target.AcrId.IsNull() {
		target.AcrId = types.StringNull()
	}
	if target.ApplyAt.IsUnknown() || target.ApplyAt.IsNull() {
		target.ApplyAt = types.StringNull()
	}
	if target.CreatedAt.IsUnknown() || target.CreatedAt.IsNull() {
		target.CreatedAt = types.StringNull()
	}
	if target.Description.IsUnknown() || target.Description.IsNull() {
		target.Description = types.StringNull()
	}
	if target.EnrollWindow.IsUnknown() || target.EnrollWindow.IsNull() {
		target.EnrollWindow = types.StringNull()
	}
	if target.MfaEnforcementId.IsUnknown() || target.MfaEnforcementId.IsNull() {
		target.MfaEnforcementId = types.StringNull()
	}
	if target.ID.IsUnknown() || target.ID.IsNull() {
		target.ID = types.StringNull()
	}
	if target.Name.IsUnknown() || target.Name.IsNull() {
		target.Name = types.StringNull()
	}
	if target.OrganizationId.IsUnknown() || target.OrganizationId.IsNull() {
		target.OrganizationId = types.StringNull()
	}
	if target.Status.IsUnknown() || target.Status.IsNull() {
		target.Status = types.StringNull()
	}
	if target.Ttl.IsUnknown() || target.Ttl.IsNull() {
		target.Ttl = types.StringNull()
	}
	return target
}

var yandexOrganizationmanagerMfaEnforcementModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"acr_id":             types.StringType,
		"apply_at":           types.StringType,
		"created_at":         types.StringType,
		"description":        types.StringType,
		"enroll_window":      types.StringType,
		"mfa_enforcement_id": types.StringType,
		"id":                 types.StringType,
		"name":               types.StringType,
		"organization_id":    types.StringType,
		"status":             types.StringType,
		"ttl":                types.StringType,
		"timeouts":           timeouts.AttributesAll(context.Background()).GetType(),
	},
}

func flattenYandexOrganizationmanagerMfaEnforcement(ctx context.Context,
	yandexOrganizationmanagerMfaEnforcement *organizationmanager.MfaEnforcement,
	state yandexOrganizationmanagerMfaEnforcementModel,
	to timeouts.Value,
	diags *diag.Diagnostics) types.Object {
	if yandexOrganizationmanagerMfaEnforcement == nil {
		return types.ObjectNull(yandexOrganizationmanagerMfaEnforcementModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexOrganizationmanagerMfaEnforcementModelType.AttrTypes, yandexOrganizationmanagerMfaEnforcementModel{
		AcrId:            types.StringValue(yandexOrganizationmanagerMfaEnforcement.GetAcrId()),
		ApplyAt:          types.StringValue(yandexOrganizationmanagerMfaEnforcement.GetApplyAt().AsTime().Format(time.RFC3339)),
		CreatedAt:        types.StringValue(yandexOrganizationmanagerMfaEnforcement.GetCreatedAt().AsTime().Format(time.RFC3339)),
		Description:      types.StringValue(yandexOrganizationmanagerMfaEnforcement.GetDescription()),
		EnrollWindow:     types.StringValue(converter.GetDuration(yandexOrganizationmanagerMfaEnforcement.GetEnrollWindow(), state.EnrollWindow.ValueString(), diags)),
		MfaEnforcementId: types.StringValue(yandexOrganizationmanagerMfaEnforcement.GetId()),
		ID:               types.StringValue(yandexOrganizationmanagerMfaEnforcement.GetId()),
		Name:             types.StringValue(yandexOrganizationmanagerMfaEnforcement.GetName()),
		OrganizationId:   types.StringValue(yandexOrganizationmanagerMfaEnforcement.GetOrganizationId()),
		Status:           types.StringValue(yandexOrganizationmanagerMfaEnforcement.GetStatus().String()),
		Ttl:              types.StringValue(converter.GetDuration(yandexOrganizationmanagerMfaEnforcement.GetTtl(), state.Ttl.ValueString(), diags)),
		Timeouts:         to,
	})
	diags.Append(diag...)
	return value
}

func expandYandexOrganizationmanagerMfaEnforcement(ctx context.Context, yandexOrganizationmanagerMfaEnforcementState types.Object, diags *diag.Diagnostics) *organizationmanager.MfaEnforcement {
	if yandexOrganizationmanagerMfaEnforcementState.IsNull() || yandexOrganizationmanagerMfaEnforcementState.IsUnknown() {
		return nil
	}
	var yandexOrganizationmanagerMfaEnforcement yandexOrganizationmanagerMfaEnforcementModel
	diags.Append(yandexOrganizationmanagerMfaEnforcementState.As(ctx, &yandexOrganizationmanagerMfaEnforcement, basetypes.ObjectAsOptions{UnhandledNullAsEmpty: true, UnhandledUnknownAsEmpty: true})...)
	if diags.HasError() {
		return nil
	}
	return expandYandexOrganizationmanagerMfaEnforcementModel(ctx, yandexOrganizationmanagerMfaEnforcement, diags)
}

func expandYandexOrganizationmanagerMfaEnforcementModel(ctx context.Context, yandexOrganizationmanagerMfaEnforcementState yandexOrganizationmanagerMfaEnforcementModel, diags *diag.Diagnostics) *organizationmanager.MfaEnforcement {
	value := &organizationmanager.MfaEnforcement{}
	value.SetAcrId(yandexOrganizationmanagerMfaEnforcementState.AcrId.ValueString())
	value.SetApplyAt(converter.ParseTimestamp(yandexOrganizationmanagerMfaEnforcementState.ApplyAt.ValueString(), diags))
	value.SetCreatedAt(converter.ParseTimestamp(yandexOrganizationmanagerMfaEnforcementState.CreatedAt.ValueString(), diags))
	value.SetDescription(yandexOrganizationmanagerMfaEnforcementState.Description.ValueString())
	value.SetEnrollWindow(converter.ParseDuration(yandexOrganizationmanagerMfaEnforcementState.EnrollWindow.ValueString(), diags))
	value.SetId(yandexOrganizationmanagerMfaEnforcementState.MfaEnforcementId.ValueString())
	value.SetId(yandexOrganizationmanagerMfaEnforcementState.MfaEnforcementId.ValueString())
	value.SetName(yandexOrganizationmanagerMfaEnforcementState.Name.ValueString())
	value.SetOrganizationId(yandexOrganizationmanagerMfaEnforcementState.OrganizationId.ValueString())
	value.SetStatus(organizationmanager.MfaEnforcementStatus(organizationmanager.MfaEnforcementStatus_value[yandexOrganizationmanagerMfaEnforcementState.Status.ValueString()]))
	value.SetTtl(converter.ParseDuration(yandexOrganizationmanagerMfaEnforcementState.Ttl.ValueString(), diags))
	if diags.HasError() {
		return nil
	}
	return value
}
